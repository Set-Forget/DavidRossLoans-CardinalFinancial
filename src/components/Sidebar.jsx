import { useContext } from "react";
import { UserContext } from "../context/UserContext";
import Image1 from "../assets/2.png";
import Image2 from "../assets/3.png";
import Image3 from "../assets/4.png";
import { Link } from "react-router-dom";
import { BASE_URL } from "../router";

export const navigation = [
  {
    name: "Home Value",
    href: `home`,
    Icon: Image2,
    admin: false,
    internal: true,
  },
  {
    name: "Pricing Calculator",
    href: `calculator`,
    Icon: Image3,
    admin: false,
    internal: true,
  },
  {
    name: "History Logs",
    href: `logs`,
    Icon: Image2,
    admin: true,
    internal: true,
  },
  {
    name: "1003 Form",
    href: `form`,
    Icon: Image2,
    admin: true,
    internal: true,
  },
  {
    name: "PDF ChatBot",
    href: "https://pdf-reader-chat.vercel.app",
    Icon: Image1,
    admin: false,
    internal: false,
  },
];

export default function Sidebar({ callback, value }) {
  const { user } = useContext(UserContext);
  const { admin: isAdmin } = user;

  return (
    <div className="lg:relative lg:left-[0px] lg:min-h-dvh border-r border-[#626262]/70">
      <div className="min-h-dvh lg:relative lg:min-h-full w-64 lg:flex lg:flex-col">
        <div
          className="flex grow flex-col overflow-y-auto px-4 min-h-full"
          color="#111111"
        >
          <div className="flex items-center justify-start mt-5 relative left-2">
            <Logo />
          </div>
          <nav className="flex flex-1 flex-col gap-y-4 mt-16">
            {renderLinks(isAdmin, callback, value)}
          </nav>
        </div>
      </div>
    </div>
  );

  function renderLinks(isAdmin, callback, value) {
    return navigation.map((item, index) => {
      if (item.admin && !isAdmin) return null;

      return (
        <Link
          key={item.name}
          className={`${
            item.name === value ? "bg-slate-700 rounded-md" : "bg-transparent"
          } flex justify-start items-center gap-1 p-2`}
          to={item.internal ? `${BASE_URL}${item.href}` : item.href}
          onClick={() => callback(item.name)}
        >
          <img
            className={`${index === 1 ? "relative right-[4px]" : ""} mr-2`}
            src={item.Icon}
            width={32}
            height={32}
            alt={`Icon ${item.name}`}
          />
          <span className="whitespace-nowrap">{item.name}</span>
        </Link>
      );
    });
  }
}

const Logo = () => {
  return (
    <svg
      width="200"
      height="30"
      viewBox="0 0 200 30"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M49.5072 8.22132C50.7815 7.56711 52.2162 7.23145 53.6715 7.2471C54.7275 7.21937 55.7784 7.39387 56.7589 7.75978C57.7395 8.12568 58.6288 8.67519 59.3717 9.37422C59.4223 9.42232 59.4913 9.44984 59.5637 9.4508C59.5997 9.45131 59.6354 9.44476 59.6684 9.43156C59.7015 9.41837 59.7313 9.39883 59.7557 9.37422L61.0904 8.13198C61.139 8.08518 61.1662 8.02264 61.1662 7.95756C61.1662 7.89248 61.139 7.82994 61.0904 7.78314C60.1788 6.86748 59.0547 6.15744 57.8038 5.70707C56.4636 5.22819 55.0384 4.98861 53.6029 5.00086C51.6901 4.97802 49.8024 5.40844 48.1175 6.25161C46.5163 7.05626 45.1857 8.2578 44.2732 9.72307C43.362 11.2388 42.8835 12.9467 42.8835 14.6835C42.8835 16.4204 43.362 18.1282 44.2732 19.644C45.1844 21.1057 46.5095 22.3066 48.1038 23.1154C49.5854 23.8365 51.2147 24.2565 52.8838 24.3474C54.5528 24.4384 56.2236 24.1982 57.7855 23.6429C59.0425 23.1902 60.1714 22.4757 61.0859 21.5541C61.1342 21.508 61.1612 21.4462 61.1612 21.3818C61.1612 21.3174 61.1342 21.2556 61.0859 21.2095L59.7511 19.963C59.7268 19.9372 59.6964 19.9168 59.6624 19.9035C59.6283 19.8903 59.5914 19.8844 59.5545 19.8864C59.4829 19.8902 59.4149 19.9174 59.3626 19.963C58.6272 20.672 57.7406 21.2298 56.7596 21.6005C55.7786 21.9713 54.7251 22.1468 53.6669 22.1157C52.2112 22.1304 50.7763 21.7933 49.5026 21.1372C48.2834 20.515 47.2689 19.5959 46.5679 18.4783C45.8755 17.3173 45.5122 16.0114 45.5122 14.6835C45.5122 13.3557 45.8755 12.0497 46.5679 10.8887C47.2692 9.7677 48.2853 8.84557 49.5072 8.22132Z"
        fill="white"
      />
      <path
        d="M75.3798 5.31993C75.3594 5.27588 75.3256 5.23832 75.2825 5.21188C75.2395 5.18543 75.1891 5.17124 75.1376 5.17104H73.0577C73.0057 5.17198 72.9551 5.18642 72.9115 5.21273C72.8678 5.23904 72.833 5.27617 72.8108 5.31993L63.7051 23.8472C63.6827 23.8834 63.6708 23.9244 63.6708 23.9663C63.6708 24.0081 63.6827 24.0492 63.7051 24.0854C63.729 24.1206 63.7621 24.1495 63.8013 24.1696C63.8404 24.1897 63.8844 24.2002 63.9291 24.2003H66.1233C66.1755 24.2003 66.2266 24.1863 66.2704 24.1599C66.3142 24.1334 66.3489 24.0957 66.3701 24.0514L68.6877 19.2483H79.439L81.7794 24.0386C81.7997 24.0837 81.8341 24.122 81.8781 24.1486C81.9221 24.1751 81.9738 24.1887 82.0263 24.1875H84.2433C84.2886 24.1874 84.3332 24.1769 84.3731 24.1568C84.413 24.1368 84.4469 24.1079 84.4718 24.0726C84.493 24.036 84.5041 23.9951 84.5041 23.9535C84.5041 23.9119 84.493 23.871 84.4718 23.8344L75.3798 5.31993ZM78.4471 17.1722H69.7162L74.0816 8.08094L78.4471 17.1722Z"
        fill="white"
      />
      <path
        d="M99.8948 17.721C101.151 17.3193 102.251 16.5788 103.054 15.5939C103.9 14.476 104.333 13.1322 104.288 11.7651C104.288 9.71882 103.529 8.08519 102.03 6.91102C100.53 5.73685 98.4732 5.15402 95.8768 5.15402H88.4213C88.3498 5.15402 88.2812 5.18047 88.2306 5.22754C88.18 5.27461 88.1516 5.33845 88.1516 5.40502V23.9493C88.151 23.9824 88.1575 24.0153 88.1709 24.046C88.1842 24.0767 88.204 24.1046 88.2292 24.128C88.2544 24.1514 88.2844 24.1699 88.3174 24.1823C88.3504 24.1947 88.3857 24.2008 88.4213 24.2003H90.5149C90.5505 24.2008 90.5858 24.1947 90.6188 24.1823C90.6518 24.1699 90.6818 24.1514 90.707 24.128C90.7321 24.1046 90.752 24.0767 90.7653 24.046C90.7786 24.0153 90.7852 23.9824 90.7846 23.9493V18.3209H95.8677C96.3705 18.3209 96.8596 18.2996 97.335 18.2571L101.796 24.0939C101.821 24.1269 101.854 24.1538 101.892 24.1724C101.93 24.1909 101.973 24.2005 102.016 24.2003H104.324C104.374 24.2004 104.422 24.1877 104.464 24.1637C104.506 24.1396 104.54 24.1051 104.562 24.0641C104.586 24.0247 104.599 23.9799 104.599 23.9344C104.599 23.8888 104.586 23.8441 104.562 23.8046L99.8948 17.721ZM101.641 11.7651C101.68 12.3715 101.568 12.978 101.313 13.5374C101.059 14.0967 100.669 14.5938 100.174 14.9898C99.1863 15.7598 97.719 16.147 95.822 16.147H90.7937V7.35346H95.822C97.719 7.35346 99.1863 7.7406 100.174 8.50211C101.161 9.26362 101.641 10.3484 101.641 11.7651Z"
        fill="white"
      />
      <path
        d="M123.226 6.36222C121.458 5.53498 119.5 5.12034 117.521 5.15401H109.407C109.336 5.15511 109.268 5.1819 109.218 5.22874C109.168 5.27558 109.139 5.33879 109.138 5.40501V23.9492C109.138 24.0158 109.166 24.0797 109.217 24.1267C109.267 24.1738 109.336 24.2002 109.407 24.2002H117.521C119.5 24.236 121.458 23.8212 123.226 22.992C124.83 22.2286 126.167 21.0572 127.084 19.6142C127.986 18.1049 128.46 16.4064 128.46 14.6793C128.46 12.9521 127.986 11.2536 127.084 9.74434C126.168 8.30001 124.83 7.12725 123.226 6.36222ZM125.85 14.6793C125.876 16.0122 125.512 17.3267 124.798 18.4825C124.099 19.581 123.082 20.4744 121.864 21.0606C120.483 21.7089 118.953 22.0317 117.407 22.0008H111.784V7.35346H117.407C118.952 7.32106 120.483 7.64246 121.864 8.28939C123.083 8.87675 124.1 9.77165 124.798 10.8717C125.513 12.0289 125.876 13.3449 125.85 14.6793Z"
        fill="white"
      />
      <path
        d="M135.815 5.15402H133.708C133.559 5.15402 133.438 5.2664 133.438 5.40502V23.9493C133.438 24.0879 133.559 24.2003 133.708 24.2003H135.815C135.964 24.2003 136.085 24.0879 136.085 23.9493V5.40502C136.085 5.2664 135.964 5.15402 135.815 5.15402Z"
        fill="white"
      />
      <path
        d="M158.913 5.15401H156.838C156.766 5.15401 156.697 5.18045 156.647 5.22753C156.596 5.2746 156.568 5.33844 156.568 5.40501V19.7333L144.226 5.26888C144.202 5.23812 144.17 5.21318 144.133 5.19616C144.097 5.17913 144.056 5.17052 144.015 5.17103H142.278C142.207 5.17212 142.139 5.19892 142.089 5.24575C142.039 5.29259 142.01 5.3558 142.009 5.42203V23.9492C142.009 24.0158 142.037 24.0797 142.088 24.1267C142.138 24.1738 142.207 24.2002 142.278 24.2002H144.386C144.421 24.2008 144.457 24.1947 144.49 24.1823C144.523 24.1699 144.553 24.1514 144.578 24.128C144.603 24.1046 144.623 24.0767 144.636 24.046C144.65 24.0153 144.656 23.9824 144.655 23.9492V9.62522L156.998 24.0896C157.023 24.1191 157.055 24.1429 157.091 24.1591C157.127 24.1753 157.167 24.1836 157.208 24.1832H158.945C158.98 24.1838 159.016 24.1777 159.049 24.1653C159.082 24.1529 159.112 24.1344 159.137 24.111C159.162 24.0876 159.182 24.0597 159.195 24.029C159.209 23.9982 159.215 23.9653 159.215 23.9322V5.40501C159.215 5.36939 159.207 5.33412 159.191 5.30155C159.176 5.26897 159.153 5.23985 159.125 5.21611C159.096 5.19236 159.062 5.17455 159.026 5.16384C158.989 5.15313 158.951 5.14978 158.913 5.15401Z"
        fill="white"
      />
      <path
        d="M174.624 5.31993C174.602 5.27617 174.567 5.23904 174.523 5.21273C174.48 5.18642 174.429 5.17198 174.377 5.17104H172.297C172.246 5.17124 172.195 5.18543 172.152 5.21188C172.109 5.23832 172.075 5.27588 172.055 5.31993L162.954 23.8471C162.933 23.8838 162.921 23.9247 162.921 23.9663C162.921 24.0079 162.933 24.0488 162.954 24.0854C162.979 24.1206 163.013 24.1496 163.052 24.1696C163.092 24.1896 163.137 24.2002 163.182 24.2002H165.372C165.424 24.2015 165.476 24.1879 165.52 24.1613C165.564 24.1348 165.598 24.0964 165.619 24.0514L167.936 19.2483H178.692L181.023 24.0386C181.045 24.083 181.079 24.1207 181.123 24.1471C181.167 24.1735 181.218 24.1876 181.27 24.1875H183.492C183.537 24.1875 183.581 24.1769 183.62 24.1569C183.659 24.1368 183.692 24.1078 183.716 24.0726C183.738 24.0364 183.75 23.9953 183.75 23.9535C183.75 23.9117 183.738 23.8706 183.716 23.8344L174.624 5.31993ZM177.824 17.1722H169.139L173.504 8.08094L177.824 17.1722Z"
        fill="white"
      />
      <path
        d="M199.262 22.0051H189.709V5.41352C189.712 5.35101 189.69 5.28963 189.645 5.24265C189.601 5.19568 189.538 5.1669 189.471 5.16252H187.642C187.575 5.1669 187.513 5.19568 187.468 5.24265C187.424 5.28963 187.401 5.35101 187.405 5.41352V23.9492C187.402 23.9803 187.406 24.0116 187.417 24.0411C187.428 24.0706 187.445 24.0979 187.467 24.1213C187.489 24.1447 187.516 24.1637 187.546 24.1773C187.576 24.1908 187.609 24.1986 187.642 24.2002H199.262C199.296 24.1986 199.328 24.1908 199.359 24.1773C199.389 24.1637 199.416 24.1447 199.438 24.1213C199.46 24.0979 199.477 24.0706 199.488 24.0411C199.498 24.0116 199.502 23.9803 199.5 23.9492V22.2475C199.502 22.1862 199.479 22.1264 199.434 22.081C199.39 22.0356 199.328 22.0084 199.262 22.0051Z"
        fill="white"
      />
      <path
        d="M22.4963 28.882L19.7262 25.0021C17.9026 25.5016 15.9725 25.5616 14.1172 25.1765C12.2619 24.7914 10.5422 23.9738 9.11946 22.8005C7.69677 21.6272 6.61778 20.1366 5.9838 18.4688C5.34982 16.801 5.18164 15.0106 5.49505 13.2656C5.80847 11.5207 6.59319 9.87856 7.77556 8.49331C8.95792 7.10806 10.4991 6.02516 12.2545 5.34628C14.0099 4.66741 15.9219 4.41482 17.8109 4.61224C19.6999 4.80966 21.5041 5.4506 23.0539 6.47491L27.232 3.79048C25.0922 2.02585 22.4854 0.824347 19.6804 0.309884C16.8754 -0.204579 13.9737 -0.013383 11.2745 0.863756C8.57539 1.7409 6.1765 3.27223 4.32523 5.29983C2.47397 7.32744 1.23735 9.77793 0.742895 12.3986C0.248445 15.0193 0.514063 17.7153 1.51236 20.2085C2.51065 22.7018 4.20549 24.9021 6.42209 26.5826C8.63868 28.2631 11.2968 29.3629 14.1223 29.7686C16.9479 30.1742 19.8386 29.8711 22.4963 28.8905V28.882Z"
        fill="white"
      />
      <path
        d="M27.3006 16.3618L24.8002 17.9316L22.83 15.2174L27.1086 12.5244L31.2638 9.90382C30.9718 9.11346 30.6078 8.34775 30.1758 7.61504C30.0433 7.40233 29.9061 7.18962 29.7599 6.98116C29.4935 6.60476 29.2067 6.24126 28.9005 5.89207L24.9053 8.41058L15.7265 14.2006L22.5832 23.6365L25.1979 27.2313C26.6741 26.2749 27.97 25.0976 29.0331 23.7471L26.9989 21.0159L31.8672 17.7274C32.0677 16.7787 32.1688 15.8141 32.1689 14.8472C32.1676 14.3315 32.1387 13.816 32.082 13.303L27.3006 16.3618Z"
        fill="#00B1A4"
      />
    </svg>
  );
};
